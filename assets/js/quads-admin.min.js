var strict;function quads_switch_version(a,t){jQuery(t).attr("onClick","");var e={action:"quads_change_mode",mode:a,nonce:quads.nonce};jQuery.post(ajaxurl,e,function(a,t,e){window.location.href=quads.path+"/wp-admin/admin.php?page=quads-settings"}).fail(function(a){quads_show_message("Ajax Error: "+a.status+" "+a.statusText)})}jQuery(document).ready(function(a){function t(a){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(a)}function e(a){let t=/google_ad_slot\s*=\s*"(\d*)";/g,e=a;for(var s,i={};null!==(s=t.exec(e));)s.index===t.lastIndex&&t.lastIndex++,s.forEach(function(a,t){console.log(a),i=a});return i}function s(a){let t=/google_ad_client\s*=\s*"ca-pub-(\d*)";/g,e=a;for(var s,i={};null!==(s=t.exec(e));)s.index===t.lastIndex&&t.lastIndex++,s.forEach(function(a,t){console.log(a),i=a});return i}function i(a){let t=/google_ad_width\s*=\s*(\d*);/g,e=a;for(var s,i={};null!==(s=t.exec(e));)s.index===t.lastIndex&&t.lastIndex++,s.forEach(function(a,t){console.log(a),i=a});return i}function o(a){let t=/google_ad_height\s*=\s*(\d*);/g,e=a;for(var s,i={};null!==(s=t.exec(e));)s.index===t.lastIndex&&t.lastIndex++,s.forEach(function(a,t){console.log(a),i=a});return i}function n(a){return!a||0===a.length}function l(t){a("#quads-error-details").show(),a("#quads-error-details").html(t),console.log(t)}a('a[href$="quads_switch_to_new"]').removeAttr("href").attr("onClick","quads_switch_version('new',this);"),a('a[href$="quads_switch_to_old"]').removeAttr("href").attr("onClick","quads_switch_version('old',this);"),a('a[href$="admin.php?page=quads-addons"]')&&a('a[href$="admin.php?page=quads-addons"]').css({color:"#eb3349","font-size":"bold"}),a(".quads-send-query").on("click",function(e){e.preventDefault();var s=a("#quads_query_message").val(),i=a("#quads_query_email").val(),o=a("#quads_query_premium_cus").val(),n=quads.nonce;""!=a.trim(s)&&o&&""!=a.trim(i)&&!0==t(i)?a.ajax({type:"POST",url:ajaxurl,dataType:"json",data:{action:"quads_send_query_message",premium_cus:o,message:s,email:i,quads_security_nonce:n},success:function(t){a(".quads_support_div ul").hide(),"t"==t.status?(a(".quads-query-success").show(),a(".quads-query-error").hide()):(a(".quads-query-success").hide(),a(".quads-query-error").show())},error:function(a){console.log(a)}}):""==a.trim(s)&&""==o&&""==a.trim(i)?alert("Please enter the message, email and select customer type"):(""==o&&alert("Select Customer type"),""==a.trim(s)&&alert("Please enter the message"),""==a.trim(i)&&alert("Please enter the email"),!1==t(i)&&alert("Please enter a valid email"))}),a(".quads-tooltip").click(function(t){var e=a(this),s=a(this).next();if(void 0!==s.html()){t.preventDefault(),a(".quads-tooltip-message").not(s).hide();var i=e.position();s.hasClass("bottom")?s.css({left:i.left-s.width()/2+"px",top:i.top+e.height()+9+"px"}):s.css({left:i.left+e.width()+9+"px",top:i.top+e.height()/2-18+"px"}),s.toggle(),t.stopPropagation()}}),a("body").click(function(){a(".quads-tooltip-message").hide()}),a(".quads-tooltip-message").click(function(a){a.stopPropagation()}),document.location.href.indexOf("vi_header")>-1?(a("#quads-submit-button").hide(),a("#quads-validate").hide(),a("#quads-footer").hide()):(a("#quads-submit-button").show(),a("#quads-validate").show(),a("#quads-footer").show()),a(window).bind("easytabs:after",function(){document.location.href.indexOf("vi_header")>-1?(a("#quads-submit-button").hide(),a("#quads-validate").hide(),a("#quads-footer").hide()):(a("#quads-submit-button").show(),a("#quads-validate").show(),a("#quads-footer").show())}),a(".quads-assign").each(function(t){a(this).prop("checked")?a(this).next("select").css("background-color","white").css("color","black"):a(this).next("select").css("background-color","whitesmoke").css("color","#939393")}),a(".quads-assign").click(function(){a(this).prop("checked")?a(this).next("select").css("background-color","white").css("color","black"):a(this).next("select").css("background-color","whitesmoke").css("color","#939393")}),a(window).scroll(function(){if(!a("#quads_settings").length)return!0;var t,e,s,i,o,n,l="#quads_tab_container .submit",c=(t=a("#quads_settings"),e=a(window).scrollTop(),s=e+a(window).height(),i=t.offset().top,o=i+t.outerHeight(!0),i>e&&i<s||o>e&&o<s||e>=i&&e<=o||s>=i&&s<=o);!(a(l).length<1)&&(a(l).offset().top,a(l).offset().top,a(l).outerHeight(!1),a(window).scrollTop(),a(window).height(),c?a("#quads-submit-button").css("position","fixed").css("bottom","20px"):a("#quads-submit-button").css("position","relative").css("bottom","20px"))}),a(".quads-activate-amp").click(function(){var t=a(this).parents(".quads-ad-toggle-container").attr("id");"checked"===a(this).attr("checked")?a("#"+t).find(".quads-amp-code").show():a("#"+t).find(".quads-amp-code").hide()}),a(".quads-ad-toggle-container").find(".quads-activate-amp").each(function(t,e){var s=a(this).parents(".quads-ad-toggle-container").attr("id");"checked"===a(this).attr("checked")?a("#"+s).find(".quads-amp-code").show():a("#"+s).find(".quads-amp-code").hide()}),a("#quads-open-toggle").click(function(){"Open All Ads"===a("#quads-open-toggle").text()?(a(".quads-ad-toggle-container").show(),a("#quads-open-toggle").html("Close Ads")):(a(".quads-ad-toggle-container").hide(),a("#quads-open-toggle").html("Open All Ads"))}),a(".quads-helper").click(function(t){t.preventDefault();var e=a(this),s=a(this).next();a(".quads-message").not(s).hide();var i=e.position();s.hasClass("bottom")?s.css({left:i.left-s.width()/2+"px",top:i.top+e.height()+9+"px"}):s.css({left:i.left+e.width()+9+"px",top:i.top+e.height()/2-18+"px"}),s.toggle(),t.stopPropagation()}),a(document).on("mouseover",".quads-general-helper",function(t){t.preventDefault();var e=a(this),s=a(this).next();a(".quads-message").not(s).hide();var i=e.position();s.hasClass("bottom")?s.css({left:i.left-s.width()/2+"px",top:i.top+e.height()+9+"px"}):s.css({left:i.left+e.width()+9+"px",top:i.top+e.height()/2-18+"px"}),s.toggle(),t.stopPropagation()}),a(document).on("mouseout",".quads-general-helper",function(t){a(".quads-message").hide()}),a(document).on("click",".quads-general-helper",function(t){var e=a(this),s=a(this).next();if(void 0!==s.html()){t.preventDefault(),a(".quads-message").not(s).hide();var i=e.position();s.hasClass("bottom")?s.css({left:i.left-s.width()/2+"px",top:i.top+e.height()+9+"px"}):s.css({left:i.left+e.width()+9+"px",top:i.top+e.height()/2-18+"px"}),s.toggle(),t.stopPropagation()}}),a("body").click(function(){a(".quads-message").hide()}),a(".quads-message").click(function(a){a.stopPropagation()}),jQuery("#quads_settings").submit(function(){t={action:"quads_clear_cache",nonce:quads.nonce},a.post(ajaxurl,t,function(a,t,e){console.log("success:"+a+t+e)}).fail(function(a){console.log("error: "+a.statusText)}),a(".quads-toogle-title").each(function(){a(this).children("input").val(a(this).text())});var t,e=window.location.search,s=e.search("page=quads-settings&tab=imexport"),i=e.search("page=quads-settings&tab=licenses");if(jQuery("#quads-save-result").html("<div id='quads-loader' class='quads-loader'></div>"),jQuery("#quads-loader").append('<p><img src="'+quads.path+'/wp-content/plugins/quick-adsense-reloaded/assets/images/loader1.gif"></p>').show(),jQuery(this).ajaxSubmit({success:function(){jQuery("#quads-save-result").html("<div id='quads-save-message' class='quads-success-modal'></div>"),jQuery("#quads-save-message").append('<p><img src="'+quads.path+'/wp-content/plugins/quick-adsense-reloaded/assets/images/saved.gif"></p>').show(),setTimeout("jQuery('#quads-save-message').hide()",1e3)},error:function(){-1===s&&-1===i&&alert("Error: Can not save settings. Try again"),jQuery("#quads-save-result").hide("fast")}}),-1===s&&-1===i)return!1}),a(document).on("click","#quads-paste-button",function(){var t,l,c,d,r=function t(l){var c=void 0!==l?l.trim():"",d={},r=a("<div />").html(c).find("ins");if(r.length>0)return console.log("async ad"),d.slotId=r.attr("data-ad-slot"),void 0!==r.attr("data-ad-client")&&(d.pubId=r.attr("data-ad-client").substr(3)),void 0!==d.slotId&&""!=d.pubId&&((d.display=r.css("display"),d.format=r.attr("data-ad-format"),d.style=r.attr("style"),void 0===d.format&&-1!=d.style.indexOf("width"))?(d.type="normal",d.width=r.css("width").replace("px",""),d.height=r.css("height").replace("px",""),d):(void 0!==d.format&&"auto"==d.format&&(d.type="responsive"),d));if(c.search("google_ad_client")>0){if(console.log("syncronous code"),d.slotId=e(l),console.log(e(l)),console.log(s(l)),console.log(o(l)),console.log(i(l)),n(s(l)))return!1;if(d.pubId="ca-pub-"+s(l),!n(d.slotId)&&!n(d.pubId)&&!n(i(l)))return d.type="normal",d.width=i(l),d.height=o(l),d}return!1}(a("#quads-adsense-form").val());!1!==r?(console.log(r),l=r,d=(c=a("#quads-adsense-id").val()).replace("quads-toggle",""),a("#quads_settings\\[ads\\]\\["+d+"\\]\\[g_data_ad_slot\\]").val(l.slotId),a("#quads_settings\\[ads\\]\\["+d+"\\]\\[g_data_ad_client\\]").val(l.pubId),"normal"==l.type&&(console.log(a("#quads_settings\\[ads\\]\\["+d+"\\]\\[adsense_type\\]")),a("#quads_settings\\[ads\\]\\["+d+"\\]\\[adsense_type\\]").val("normal"),a("#quads_settings\\[ads\\]\\["+d+"\\]\\[g_data_ad_width\\]").val(l.width),a("#quads_settings\\[ads\\]\\["+d+"\\]\\[g_data_ad_height\\]").val(l.height)),"responsive"==l.type&&(a("#quads_settings\\[ads\\]\\["+d+"\\]\\[adsense_type\\]").val("responsive"),a("#quads_settings\\[ads\\]\\["+d+"\\]\\[g_data_ad_width\\]").val(""),a("#quads_settings\\[ads\\]\\["+d+"\\]\\[g_data_ad_height\\]").val("")),a(".quads-select-Type").trigger("change"),a("#quads-adsense-bg-div").hide(),0===a("#"+c).children("textarea").val().length&&a("#"+c).children("textarea").val("adsense")):(a("#quads-msg").html("Can not parse AdSense Code. Is the code valid?"),a("#quads-msg").show())}),a(document).on("click",".quads-add-adsense",function(t){t.preventDefault();var e=a(this).parents(".quads-ad-toggle-container").attr("id");a("#quads-adsense-form").val(""),a("#quads-adsense-id").val(e),a("#quads-adsense-bg-div").show()}),a(document).on("click","#quads-close-button",function(t){t.preventDefault(),a("#quads-adsense-bg-div").hide()}),a(document).on("click",".quads_adsense_type",function(){var t=a(this).parents(".quads-ad-toggle-container").attr("id");"adsense"===a(this).val()&&(a("#"+t).children("textarea").hide(),a("#"+t).find("div.quads_adsense_code").show(),a("#"+t).find(".quads-sizes").show(),a("#"+t).find(".quads-sizes-container").css("clear","")),"plain_text"===a(this).val()&&(a("#"+t).children("textarea").show(),a("#"+t).children("div.quads_adsense_code").hide(),a("#"+t).find(".quads-sizes").hide(),a("#"+t).find(".quads-sizes-container").css("clear","both"))}),a(".quads-ad-toggle-container").find(".quads_adsense_type").each(function(t,e){var s=a(this).parents(".quads-ad-toggle-container").attr("id");"checked"===a(this).attr("checked")&&"adsense"===a(this).val()&&(a("#"+s).children("textarea").fadeOut(),a("#"+s).find("div.quads_adsense_code").show()),"checked"===a(this).attr("checked")&&"plain_text"===a(this).val()&&(a("#"+s).children("textarea").fadeIn(),a("#"+s).children("div.quads_adsense_code").hide())}),a(".quads-ad-toggle-container").find(".quads-select-Type").each(function(t,e){var s=a(this).parents(".quads-ad-toggle-container").attr("id");"responsive"===a(this).val()&&(a("#"+s).find(".quads-type-normal").hide(),a("#"+s).find(".quads-pro-notice").show(),a("#"+s).find(".quads-sizes").show(),a("#"+s).find(".quads-sizes-container").css("clear","")),"normal"===a(this).val()&&(a("#"+s).find(".quads-type-normal").show(),a("#"+s).find(".quads-pro-notice").hide(),a("#"+s).find(".quads-sizes").hide(),a("#"+s).find(".quads-sizes-container").css("clear","both"))}),a(document).on("change",".quads-select-Type",function(){var t=a(this).parents(".quads-ad-toggle-container").attr("id");"responsive"===a(this).val()&&(a("#"+t).find(".quads-type-normal").hide(),a("#"+t).find(".quads-pro-notice").show(),a("#"+t).find(".quads-sizes").show(),a("#"+t).find(".quads-sizes-container").css("clear","")),"normal"===a(this).val()&&(a("#"+t).find(".quads-type-normal").show(),a("#"+t).find(".quads-pro-notice").hide(),a("#"+t).find(".quads-sizes").hide(),a("#"+t).find(".quads-sizes-container").css("clear","both"))}),a(".quads-form-table").on("click",".quads-ad-toggle-header",function(t){t.preventDefault();var e=a("#"+a(this).data("box-id"));e.toggle(0,function(){e.parents(".quads-ad-toggle-header").hasClass("quads-box-close")?e.parents(".quads-ad-toggle-header").removeClass("quads-box-close"):e.parents(".quads-ad-toggle-header").addClass("quads-box-close")})}),jQuery(".quads-import-settings").click(function(t){if(t.preventDefault(),confirm("Importing settings from Quick AdSense will overwrite all your current settings. Are you sure?")){jQuery("#quads-import-settings").addClass("loading");var e={action:"quads_import_quick_adsense",nonce:quads.nonce};a.post(ajaxurl,e,function(a,t,e){l(a)}).fail(function(a){l("Ajax Error: "+a.status+" "+a.statusText)})}}),jQuery("#quads_insert_ads_action").click(function(a){a.preventDefault(),jQuery("#quads_insert_ads_box").toggle()}),jQuery("#quads_disable_ads_action").click(function(a){a.preventDefault(),jQuery("#quads_disable_ads_box").toggle()}),a(".quads-tabs").length&&a("#quads_tab_container").easytabs({animate:!0,updateHash:!0,animationSpeed:"fast"})}),function(a,t,e){var s,i="hashchange",o=document,n=a.event.special,l=o.documentMode,c="on"+i in t&&(l===e||l>7);function d(a){return"#"+(a=a||location.href).replace(/^[^#]*#?(.*)$/,"$1")}a.fn[i]=function(a){return a?this.bind(i,a):this.trigger(i)},a.fn[i].delay=50,n[i]=a.extend(n[i],{setup:function(){if(c)return!1;a(s.start)},teardown:function(){if(c)return!1;a(s.stop)}}),s=function(){var s,n,l,r={},u=d(),p=function(a){return a},h=p,f=p;function g(){var e=d(),s=f(u);e!==u?(h(u=e,s),a(t).trigger(i)):s!==u&&(location.href=location.href.replace(/#.*/,"")+s),l=setTimeout(g,a.fn[i].delay)}return r.start=function(){l||g()},r.stop=function(){l&&clearTimeout(l),l=e},c||(r.start=function(){s||(n=(n=a.fn[i].src)&&n+d(),s=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){n||h(d()),g()}).attr("src",n||"javascript:0").insertAfter("body")[0].contentWindow,o.onpropertychange=function(){try{"title"===event.propertyName&&(s.document.title=o.title)}catch(a){}})},r.stop=p,f=function(){return d(s.location.href)},h=function(t,e){var n=s.document,l=a.fn[i].domain;t!==e&&(n.title=o.title,n.open(),l&&n.write('<script>document.domain="'+l+'"</script>'),n.close(),s.location.hash=t)}),r}()}(jQuery,this),function(a){a.easytabs=function(t,e){var s,i,o,n,l,c,d=this,r=a(t),u={animate:!0,panelActiveClass:"active",tabActiveClass:"active",defaultTab:"li:first-child",animationSpeed:"fast",tabs:"> ul > li",updateHash:!0,cycle:!1,collapsible:!1,collapsedClass:"collapsed",collapsedByDefault:!0,uiTabs:!1,transitionIn:"fadeIn",transitionOut:"fadeOut",transitionInEasing:"swing",transitionOutEasing:"swing",transitionCollapse:"slideUp",transitionUncollapse:"slideDown",transitionCollapseEasing:"swing",transitionUncollapseEasing:"swing",containerClass:"",tabsClass:"",tabClass:"",panelClass:"",cache:!0,event:"click",panelContext:r},p={fast:200,normal:400,slow:600};d.init=function(){d.settings=c=a.extend({},u,e),c.bind_str=c.event+".easytabs",c.uiTabs&&(c.tabActiveClass="ui-tabs-selected",c.containerClass="ui-tabs ui-widget ui-widget-content ui-corner-all",c.tabsClass="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all",c.tabClass="ui-state-default ui-corner-top",c.panelClass="ui-tabs-panel ui-widget-content ui-corner-bottom"),c.collapsible&&void 0!==e.defaultTab&&void 0===e.collpasedByDefault&&(c.collapsedByDefault=!1),"string"==typeof c.animationSpeed&&(c.animationSpeed=p[c.animationSpeed]),a("a.anchor").remove().prependTo("body"),r.data("easytabs",{}),d.setTransitions(),d.getTabs(),f(),g(),k(),q(),r.attr("data-easytabs",!0)},d.setTransitions=function(){o=c.animate?{show:c.transitionIn,hide:c.transitionOut,speed:c.animationSpeed,collapse:c.transitionCollapse,uncollapse:c.transitionUncollapse,halfSpeed:c.animationSpeed/2}:{show:"show",hide:"hide",speed:0,collapse:"hide",uncollapse:"show",halfSpeed:0}},d.getTabs=function(){var t;d.tabs=r.find(c.tabs),d.panels=a(),d.tabs.each(function(){var e=a(this),s=e.children("a"),i=e.children("a").data("target");e.data("easytabs",{}),null!=i?e.data("easytabs").ajax=s.attr("href"):i=s.attr("href"),i=i.match(/#([^\?]+)/)[1],(t=c.panelContext.find("#"+i)).length?(t.data("easytabs",{position:t.css("position"),visibility:t.css("visibility")}),t.not(c.panelActiveClass).hide(),d.panels=d.panels.add(t),e.data("easytabs").panel=t):(d.tabs=d.tabs.not(e),"console"in window&&console.warn("Warning: tab without matching panel for selector '#"+i+"' removed from set"))})},d.selectTab=function(a,t){var e=(window.location.hash.match(/^[^\?]*/)[0],a.parent().data("easytabs").panel),s=a.parent().data("easytabs").ajax;c.collapsible&&!l&&(a.hasClass(c.tabActiveClass)||a.hasClass(c.collapsedClass))?d.toggleTabCollapse(a,e,s,t):a.hasClass(c.tabActiveClass)&&e.hasClass(c.panelActiveClass)&&c.cache||b(a,e,s,t)},d.toggleTabCollapse=function(a,t,e,s){d.panels.stop(!0,!0),h(r,"easytabs:before",[a,t,c])&&(d.tabs.filter("."+c.tabActiveClass).removeClass(c.tabActiveClass).children().removeClass(c.tabActiveClass),a.hasClass(c.collapsedClass)?(!e||c.cache&&a.parent().data("easytabs").cached||(r.trigger("easytabs:ajax:beforeSend",[a,t]),t.load(e,function(e,s,i){a.parent().data("easytabs").cached=!0,r.trigger("easytabs:ajax:complete",[a,t,e,s,i])})),a.parent().removeClass(c.collapsedClass).addClass(c.tabActiveClass).children().removeClass(c.collapsedClass).addClass(c.tabActiveClass),t.addClass(c.panelActiveClass)[o.uncollapse](o.speed,c.transitionUncollapseEasing,function(){r.trigger("easytabs:midTransition",[a,t,c]),"function"==typeof s&&s()})):(a.addClass(c.collapsedClass).parent().addClass(c.collapsedClass),t.removeClass(c.panelActiveClass)[o.collapse](o.speed,c.transitionCollapseEasing,function(){r.trigger("easytabs:midTransition",[a,t,c]),"function"==typeof s&&s()})))},d.matchTab=function(a){return d.tabs.find("[href='"+a+"'],[data-target='"+a+"']").first()},d.matchInPanel=function(a){return a&&d.validId(a)?d.panels.filter(":has("+a+")").first():[]},d.validId=function(a){return a.substr(1).match(/^[A-Za-z]+[A-Za-z0-9\-_:\.].$/)},d.selectTabFromHashChange=function(){var a,t=window.location.hash.match(/^[^\?]*/)[0],e=d.matchTab(t);c.updateHash&&(e.length?(l=!0,d.selectTab(e)):(a=d.matchInPanel(t)).length?(t="#"+a.attr("id"),e=d.matchTab(t),l=!0,d.selectTab(e)):!s.hasClass(c.tabActiveClass)&&!c.cycle&&(""===t||d.matchTab(n).length||r.closest(t).length)&&(l=!0,d.selectTab(i)))},d.cycleTabs=function(t){c.cycle&&(t%=d.tabs.length,$tab=a(d.tabs[t]).children("a").first(),l=!0,d.selectTab($tab,function(){setTimeout(function(){d.cycleTabs(t+1)},c.cycle)}))},d.publicMethods={select:function(t){var e;0===(e=d.tabs.filter(t)).length?0===(e=d.tabs.find("a[href='"+t+"']")).length&&0===(e=d.tabs.find("a"+t)).length&&0===(e=d.tabs.find("[data-target='"+t+"']")).length&&0===(e=d.tabs.find("a[href$='"+t+"']")).length&&a.error("Tab '"+t+"' does not exist in tab set"):e=e.children("a").first(),d.selectTab(e)}};var h=function(t,e,s){var i=a.Event(e);return t.trigger(i,s),!1!==i.result},f=function(){r.addClass(c.containerClass),d.tabs.parent().addClass(c.tabsClass),d.tabs.addClass(c.tabClass),d.panels.addClass(c.panelClass)},g=function(){var t,e=window.location.hash.match(/^[^\?]*/)[0],o=d.matchTab(e).parent();1===o.length?(s=o,c.cycle=!1):(t=d.matchInPanel(e)).length?(e="#"+t.attr("id"),s=d.matchTab(e).parent()):0===(s=d.tabs.parent().find(c.defaultTab)).length&&a.error("The specified default tab ('"+c.defaultTab+"') could not be found in the tab set ('"+c.tabs+"') out of "+d.tabs.length+" tabs."),i=s.children("a").first(),v(o)},v=function(t){var e,o;c.collapsible&&0===t.length&&c.collapsedByDefault?s.addClass(c.collapsedClass).children().addClass(c.collapsedClass):(e=a(s.data("easytabs").panel),(o=s.data("easytabs").ajax)&&(!c.cache||!s.data("easytabs").cached)&&(r.trigger("easytabs:ajax:beforeSend",[i,e]),e.load(o,function(a,t,o){s.data("easytabs").cached=!0,r.trigger("easytabs:ajax:complete",[i,e,a,t,o])})),s.data("easytabs").panel.show().addClass(c.panelActiveClass),s.addClass(c.tabActiveClass).children().addClass(c.tabActiveClass)),r.trigger("easytabs:initialised",[i,e])},b=function(a,t,e,s){if(d.panels.stop(!0,!0),h(r,"easytabs:before",[a,t,c])){var i,u,p,f,g=d.panels.filter(":visible"),v=t.parent(),b=window.location.hash.match(/^[^\?]*/)[0];c.animate&&(i=$(t),p=i-(u=g.length?m(g):0)),n=b,f=function(){r.trigger("easytabs:midTransition",[a,t,c]),c.animate&&"fadeIn"==c.transitionIn&&p<0&&v.animate({height:v.height()+p},o.halfSpeed).css({"min-height":""}),c.updateHash&&!l?window.location.hash="#"+t.attr("id"):l=!1,t[o.show](o.speed,c.transitionInEasing,function(){v.css({height:"","min-height":""}),r.trigger("easytabs:after",[a,t,c]),"function"==typeof s&&s()})},!e||c.cache&&a.parent().data("easytabs").cached||(r.trigger("easytabs:ajax:beforeSend",[a,t]),t.load(e,function(e,s,i){a.parent().data("easytabs").cached=!0,r.trigger("easytabs:ajax:complete",[a,t,e,s,i])})),c.animate&&"fadeOut"==c.transitionOut&&(p>0?v.animate({height:v.height()+p},o.halfSpeed):v.css({"min-height":v.height()})),d.tabs.filter("."+c.tabActiveClass).removeClass(c.tabActiveClass).children().removeClass(c.tabActiveClass),d.tabs.filter("."+c.collapsedClass).removeClass(c.collapsedClass).children().removeClass(c.collapsedClass),a.parent().addClass(c.tabActiveClass).children().addClass(c.tabActiveClass),d.panels.filter("."+c.panelActiveClass).removeClass(c.panelActiveClass),t.addClass(c.panelActiveClass),g.length?g[o.hide](o.speed,c.transitionOutEasing,f):t[o.uncollapse](o.speed,c.transitionUncollapseEasing,f)}},$=function(t){if(t.data("easytabs")&&t.data("easytabs").lastHeight)return t.data("easytabs").lastHeight;var e,s,i=t.css("display");try{e=a("<div></div>",{position:"absolute",visibility:"hidden",overflow:"hidden"})}catch(o){e=a("<div></div>",{visibility:"hidden",overflow:"hidden"})}return s=t.wrap(e).css({position:"relative",visibility:"hidden",display:"block"}).outerHeight(),t.unwrap(),t.css({position:t.data("easytabs").position,visibility:t.data("easytabs").visibility,display:i}),t.data("easytabs").lastHeight=s,s},m=function(a){var t=a.outerHeight();return a.data("easytabs")?a.data("easytabs").lastHeight=t:a.data("easytabs",{lastHeight:t}),t},k=function(){"function"==typeof a(window).hashchange?a(window).hashchange(function(){d.selectTabFromHashChange()}):a.address&&"function"==typeof a.address.change&&a.address.change(function(){d.selectTabFromHashChange()})},q=function(){var a;c.cycle&&(a=d.tabs.index(s),setTimeout(function(){d.cycleTabs(a+1)},c.cycle))};d.init()},a.fn.easytabs=function(t){var e=arguments;return this.each(function(){var s=a(this),i=s.data("easytabs");if(void 0===i&&(i=new a.easytabs(this,t),s.data("easytabs",i)),i.publicMethods[t])return i.publicMethods[t](Array.prototype.slice.call(e,1))})}}(jQuery),function(a){var t,e,s,i,o,n,l,c,d,r,u,p,h,f,g,v,b,$,m,k,q,y,C,x,w,_,T,I,A=(t={showEvent:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},colorScheme:"light",color:"3289c7",livePreview:!0,flat:!1,layout:"full",submit:1,submitText:"OK",height:156},e=function(t,e){var s=H(t);a(e).data("colpick").fields.eq(1).val(s.r).end().eq(2).val(s.g).end().eq(3).val(s.b).end()},s=function(t,e){a(e).data("colpick").fields.eq(4).val(Math.round(t.h)).end().eq(5).val(Math.round(t.s)).end().eq(6).val(Math.round(t.b)).end()},i=function(t,e){a(e).data("colpick").fields.eq(0).val(P(t))},o=function(t,e){a(e).data("colpick").selector.css("backgroundColor","#"+P({h:t.h,s:100,b:100})),a(e).data("colpick").selectorIndic.css({left:parseInt(a(e).data("colpick").height*t.s/100,10),top:parseInt(a(e).data("colpick").height*(100-t.b)/100,10)})},n=function(t,e){a(e).data("colpick").hue.css("top",parseInt(a(e).data("colpick").height-a(e).data("colpick").height*t.h/360,10))},l=function(t,e){a(e).data("colpick").currentColor.css("backgroundColor","#"+P(t))},c=function(t,e){a(e).data("colpick").newColor.css("backgroundColor","#"+P(t))},d=function(t){var l,d=a(this).parent().parent();this.parentNode.className.indexOf("_hex")>0?(d.data("colpick").color=l=E(T(this.value)),e(l,d.get(0)),s(l,d.get(0))):this.parentNode.className.indexOf("_hsb")>0?(d.data("colpick").color=l=w({h:parseInt(d.data("colpick").fields.eq(4).val(),10),s:parseInt(d.data("colpick").fields.eq(5).val(),10),b:parseInt(d.data("colpick").fields.eq(6).val(),10)}),e(l,d.get(0)),i(l,d.get(0))):(d.data("colpick").color=l=z(_({r:parseInt(d.data("colpick").fields.eq(1).val(),10),g:parseInt(d.data("colpick").fields.eq(2).val(),10),b:parseInt(d.data("colpick").fields.eq(3).val(),10)})),i(l,d.get(0)),s(l,d.get(0))),o(l,d.get(0)),n(l,d.get(0)),c(l,d.get(0)),d.data("colpick").onChange.apply(d.parent(),[l,P(l),H(l),d.data("colpick").el,0])},r=function(t){a(this).parent().removeClass("colpick_focus")},u=function(){a(this).parent().parent().data("colpick").fields.parent().removeClass("colpick_focus"),a(this).parent().addClass("colpick_focus")},p=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var e=a(this).parent().find("input").focus(),s={el:a(this).parent().addClass("colpick_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:t.pageY,field:e,val:parseInt(e.val(),10),preview:a(this).parent().parent().data("colpick").livePreview};a(document).mouseup(s,f),a(document).mousemove(s,h)},h=function(a){return a.data.field.val(Math.max(0,Math.min(a.data.max,parseInt(a.data.val-a.pageY+a.data.y,10)))),a.data.preview&&d.apply(a.data.field.get(0),[!0]),!1},f=function(t){return d.apply(t.data.field.get(0),[!0]),t.data.el.removeClass("colpick_slider").find("input").focus(),a(document).off("mouseup",f),a(document).off("mousemove",h),!1},g=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var e={cal:a(this).parent(),y:a(this).offset().top};a(document).on("mouseup touchend",e,b),a(document).on("mousemove touchmove",e,v);var s="touchstart"==t.type?t.originalEvent.changedTouches[0].pageY:t.pageY;return d.apply(e.cal.data("colpick").fields.eq(4).val(parseInt(360*(e.cal.data("colpick").height-(s-e.y))/e.cal.data("colpick").height,10)).get(0),[e.cal.data("colpick").livePreview]),!1},v=function(a){var t="touchmove"==a.type?a.originalEvent.changedTouches[0].pageY:a.pageY;return d.apply(a.data.cal.data("colpick").fields.eq(4).val(parseInt(360*(a.data.cal.data("colpick").height-Math.max(0,Math.min(a.data.cal.data("colpick").height,t-a.data.y)))/a.data.cal.data("colpick").height,10)).get(0),[a.data.preview]),!1},b=function(t){return e(t.data.cal.data("colpick").color,t.data.cal.get(0)),i(t.data.cal.data("colpick").color,t.data.cal.get(0)),a(document).off("mouseup touchend",b),a(document).off("mousemove touchmove",v),!1},$=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var e,s={cal:a(this).parent(),pos:a(this).offset()};return s.preview=s.cal.data("colpick").livePreview,a(document).on("mouseup touchend",s,k),a(document).on("mousemove touchmove",s,m),"touchstart"==t.type?(pageX=t.originalEvent.changedTouches[0].pageX,e=t.originalEvent.changedTouches[0].pageY):(pageX=t.pageX,e=t.pageY),d.apply(s.cal.data("colpick").fields.eq(6).val(parseInt(100*(s.cal.data("colpick").height-(e-s.pos.top))/s.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*(pageX-s.pos.left)/s.cal.data("colpick").height,10)).get(0),[s.preview]),!1},m=function(a){var t;return"touchmove"==a.type?(pageX=a.originalEvent.changedTouches[0].pageX,t=a.originalEvent.changedTouches[0].pageY):(pageX=a.pageX,t=a.pageY),d.apply(a.data.cal.data("colpick").fields.eq(6).val(parseInt(100*(a.data.cal.data("colpick").height-Math.max(0,Math.min(a.data.cal.data("colpick").height,t-a.data.pos.top)))/a.data.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(a.data.cal.data("colpick").height,pageX-a.data.pos.left))/a.data.cal.data("colpick").height,10)).get(0),[a.data.preview]),!1},k=function(t){return e(t.data.cal.data("colpick").color,t.data.cal.get(0)),i(t.data.cal.data("colpick").color,t.data.cal.get(0)),a(document).off("mouseup touchend",k),a(document).off("mousemove touchmove",m),!1},q=function(t){var e=a(this).parent(),s=e.data("colpick").color;e.data("colpick").origColor=s,l(s,e.get(0)),e.data("colpick").onSubmit(s,P(s),H(s),e.data("colpick").el)},y=function(t){t.stopPropagation();var e=a("#"+a(this).data("colpickId"));e.data("colpick").onBeforeShow.apply(this,[e.get(0)]);var s=a(this).offset(),i=s.top+this.offsetHeight,o=s.left,n=x(),l=e.width();o+l>n.l+n.w&&(o-=l),e.css({left:o+"px",top:i+"px"}),!1!=e.data("colpick").onShow.apply(this,[e.get(0)])&&e.show(),a("html").mousedown({cal:e},C),e.mousedown(function(a){a.stopPropagation()})},C=function(t){!1!=t.data.cal.data("colpick").onHide.apply(this,[t.data.cal.get(0)])&&t.data.cal.hide(),a("html").off("mousedown",C)},x=function(){var a="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(a?document.documentElement.scrollLeft:document.body.scrollLeft),w:window.innerWidth||(a?document.documentElement.clientWidth:document.body.clientWidth)}},w=function(a){return{h:Math.min(360,Math.max(0,a.h)),s:Math.min(100,Math.max(0,a.s)),b:Math.min(100,Math.max(0,a.b))}},_=function(a){return{r:Math.min(255,Math.max(0,a.r)),g:Math.min(255,Math.max(0,a.g)),b:Math.min(255,Math.max(0,a.b))}},T=function(a){var t=6-a.length;if(t>0){for(var e=[],s=0;s<t;s++)e.push("0");e.push(a),a=e.join("")}return a},I=function(){var t=a(this).parent(),l=t.data("colpick").origColor;t.data("colpick").color=l,e(l,t.get(0)),i(l,t.get(0)),s(l,t.get(0)),o(l,t.get(0)),n(l,t.get(0)),c(l,t.get(0))},{init:function(h){if("string"==typeof(h=a.extend({},t,h||{})).color)h.color=E(h.color);else if(void 0!=h.color.r&&void 0!=h.color.g&&void 0!=h.color.b)h.color=z(h.color);else{if(void 0==h.color.h||void 0==h.color.s||void 0==h.color.b)return this;h.color=w(h.color)}return this.each(function(){if(!a(this).data("colpickId")){var t,f,v=a.extend({},h);v.origColor=h.color;var b="collorpicker_"+parseInt(1e3*Math.random());a(this).data("colpickId",b);var m=a('<div class="colpick"><div class="colpick_color"><div class="colpick_color_overlay1"><div class="colpick_color_overlay2"><div class="colpick_selector_outer"><div class="colpick_selector_inner"></div></div></div></div></div><div class="colpick_hue"><div class="colpick_hue_arrs"><div class="colpick_hue_larr"></div><div class="colpick_hue_rarr"></div></div></div><div class="colpick_new_color"></div><div class="colpick_current_color"></div><div class="colpick_hex_field"><div class="colpick_field_letter">#</div><input type="text" maxlength="6" size="6" /></div><div class="colpick_rgb_r colpick_field"><div class="colpick_field_letter">R</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_g colpick_field"><div class="colpick_field_letter">G</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_h colpick_field"><div class="colpick_field_letter">H</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_s colpick_field"><div class="colpick_field_letter">S</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_submit"></div></div>').attr("id",b);m.addClass("colpick_"+v.layout+(v.submit?"":" colpick_"+v.layout+"_ns")),"light"!=v.colorScheme&&m.addClass("colpick_"+v.colorScheme),m.find("div.colpick_submit").html(v.submitText).click(q),v.fields=m.find("input").change(d).blur(r).focus(u),m.find("div.colpick_field_arrs").mousedown(p).end().find("div.colpick_current_color").click(I),v.selector=m.find("div.colpick_color").on("mousedown touchstart",$),v.selectorIndic=v.selector.find("div.colpick_selector_outer"),v.el=this,v.hue=m.find("div.colpick_hue_arrs"),huebar=v.hue.parent();var k=navigator.userAgent.toLowerCase(),C="Microsoft Internet Explorer"===navigator.appName,x=C?parseFloat(k.match(/msie ([0-9]{1,}[\.0-9]{0,})/)[1]):0,w=["#ff0000","#ff0080","#ff00ff","#8000ff","#0000ff","#0080ff","#00ffff","#00ff80","#00ff00","#80ff00","#ffff00","#ff8000","#ff0000"];if(C&&x<10)for(t=0;t<=11;t++)f=a("<div></div>").attr("style","height:8.333333%; filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+w[t]+", endColorstr="+w[t+1]+'); -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='+w[t]+", endColorstr="+w[t+1]+')";'),huebar.append(f);else stopList=w.join(","),huebar.attr("style","background:-webkit-linear-gradient(top,"+stopList+"); background: -o-linear-gradient(top,"+stopList+"); background: -ms-linear-gradient(top,"+stopList+"); background:-moz-linear-gradient(top,"+stopList+"); -webkit-linear-gradient(top,"+stopList+"); background:linear-gradient(to bottom,"+stopList+"); ");m.find("div.colpick_hue").on("mousedown touchstart",g),v.newColor=m.find("div.colpick_new_color"),v.currentColor=m.find("div.colpick_current_color"),m.data("colpick",v),e(v.color,m.get(0)),s(v.color,m.get(0)),i(v.color,m.get(0)),n(v.color,m.get(0)),o(v.color,m.get(0)),l(v.color,m.get(0)),c(v.color,m.get(0)),v.flat?(m.appendTo(this).show(),m.css({position:"relative",display:"block"})):(m.appendTo(document.body),a(this).on(v.showEvent,y),m.css({position:"absolute"}))}})},showPicker:function(){return this.each(function(){a(this).data("colpickId")&&y.apply(this)})},hidePicker:function(){return this.each(function(){a(this).data("colpickId")&&a("#"+a(this).data("colpickId")).hide()})},setColor:function(t,d){if(d=void 0===d?1:d,"string"==typeof t)t=E(t);else if(void 0!=t.r&&void 0!=t.g&&void 0!=t.b)t=z(t);else{if(void 0==t.h||void 0==t.s||void 0==t.b)return this;t=w(t)}return this.each(function(){if(a(this).data("colpickId")){var r=a("#"+a(this).data("colpickId"));r.data("colpick").color=t,r.data("colpick").origColor=t,e(t,r.get(0)),s(t,r.get(0)),i(t,r.get(0)),n(t,r.get(0)),o(t,r.get(0)),c(t,r.get(0)),r.data("colpick").onChange.apply(r.parent(),[t,P(t),H(t),r.data("colpick").el,1]),d&&l(t,r.get(0))}})}}),S=function(a){var a=parseInt(a.indexOf("#")>-1?a.substring(1):a,16);return{r:a>>16,g:(65280&a)>>8,b:255&a}},E=function(a){return z(S(a))},z=function(a){var t={h:0,s:0,b:0},e=Math.min(a.r,a.g,a.b),s=Math.max(a.r,a.g,a.b),i=s-e;return t.b=s,t.s=0!=s?255*i/s:0,0!=t.s?a.r==s?t.h=(a.g-a.b)/i:a.g==s?t.h=2+(a.b-a.r)/i:t.h=4+(a.r-a.g)/i:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t},H=function(a){var t={},e=a.h,s=255*a.s/100,i=255*a.b/100;if(0==s)t.r=t.g=t.b=i;else{var o=i,n=(255-s)*i/255,l=(o-n)*(e%60)/60;360==e&&(e=0),e<60?(t.r=o,t.b=n,t.g=n+l):e<120?(t.g=o,t.b=n,t.r=o-l):e<180?(t.g=o,t.r=n,t.b=n+l):e<240?(t.b=o,t.r=n,t.g=o-l):e<300?(t.b=o,t.g=n,t.r=n+l):e<360?(t.r=o,t.g=n,t.b=o-l):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}},D=function(t){var e=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return a.each(e,function(a,t){1==t.length&&(e[a]="0"+t)}),e.join("")},P=function(a){return D(H(a))};a.fn.extend({colpick:A.init,colpickHide:A.hidePicker,colpickShow:A.showPicker,colpickSetColor:A.setColor}),a.extend({colpick:{rgbToHex:D,rgbToHsb:z,hsbToHex:P,hsbToRgb:H,hexToHsb:E,hexToRgb:S}})}(jQuery);